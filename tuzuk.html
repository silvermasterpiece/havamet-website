<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>HAVAMET | TÃ¼zÃ¼k</title>

  <!-- SEO -->
  <meta name="description" content="HAVAMET: HavacÄ±lÄ±k meteorolojisi iÃ§in haberler, etkinlikler, kaynaklar ve gÃ¼ncel hava durumu.">
  <meta name="theme-color" content="#1c2c48">
  <meta property="og:title" content="HAVAMET | TÃ¼zÃ¼k">
  <meta property="og:description" content="HAVAMETâ€™in tÃ¼zÃ¼ÄŸÃ¼, amaÃ§lar, Ã¼yelik koÅŸullarÄ±, organlarÄ±n gÃ¶rev ve yetkileri.">
  <meta property="og:type" content="website">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <a class="sr-only" href="#icerik">Ä°Ã§eriÄŸe atla</a>

  <!-- Ãœstte dil & tema kontrolleri -->
  <div class="top-bar">
    <div class="right-controls">
      <div class="lang-switcher" role="group" aria-label="Dil seÃ§imi">
        <button onclick="setLanguage('tr')" title="TÃ¼rkÃ§e" aria-label="TÃ¼rkÃ§e">
          <img src="assets/flags/tr.png" alt="TR bayrak" width="24" height="24" loading="lazy" />
        </button>
        <button onclick="setLanguage('en')" title="English" aria-label="English">
          <img src="assets/flags/gb.png" alt="GB flag" width="24" height="24" loading="lazy" />
        </button>
      </div>
      <div class="mode-toggle">
        <button id="modeButton" onclick="toggleMode()" title="Tema DeÄŸiÅŸtir" aria-pressed="false" aria-label="Tema deÄŸiÅŸtir">ğŸŒ™</button>
      </div>
    </div>
  </div>

  <!-- Kapak / Hero -->
  <header class="kapak">
    <img src="assets/images/kapak.png" alt="Arka plan" class="kapak-gorsel" loading="eager" />
    <div class="container kapak-icerik">
      <img src="assets/images/logo.png" alt="HAVAMET Logo" class="logo" width="240" height="auto" />
    </div>
  </header>

  <!-- NAV -->
  <nav id="nav" role="navigation" aria-label="Ana menÃ¼">
    <div class="container inner">
      <a href="index.html" class="brand" aria-label="HAVAMET ana sayfa">
        <img src="assets/images/logo.png" alt="" width="32" height="32" loading="lazy" />
        <span>HAVAMET</span>
      </a>
      <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="menu" aria-label="MenÃ¼yÃ¼ aÃ§/kapat">â˜°</button>
      <ul class="menu" id="menu">
        <li><a href="index.html" data-tr="Anasayfa" data-en="Home">Anasayfa</a></li>

        <!-- DROPDOWN -->
        <li class="dropdown">
          <a href="#" class="dropdown-toggle"
             data-tr="DerneÄŸimiz" data-en="Our Association"
             aria-haspopup="true" aria-expanded="false" aria-controls="submenu-dernegimiz">
             DerneÄŸimiz
          </a>
          <div class="dropdown-menu" id="submenu-dernegimiz" role="menu" aria-label="DerneÄŸimiz alt menÃ¼">
            <a href="tarihce.html" data-tr="TarihÃ§e" data-en="History" role="menuitem">TarihÃ§e</a>
            <a href="misyon-vizyon.html" data-tr="Misyon & Vizyon" data-en="Mission & Vision" role="menuitem">Misyon & Vizyon</a>
            <a href="yonetim.html" data-tr="YÃ¶netim ve Organizasyon ÅemasÄ±" data-en="Management and Organization Chart" role="menuitem">YÃ¶netim ve Organizasyon ÅemasÄ±</a>
            <a href="tuzuk.html" data-tr="TÃ¼zÃ¼k" data-en="Regulation" role="menuitem" aria-current="page">TÃ¼zÃ¼k</a>
            <a href="faaliyet.html" data-tr="Faaliyet RaporlarÄ±" data-en="Activity Reports" role="menuitem">Faaliyet RaporlarÄ±</a>
            <a href="subeler.html" data-tr="Temsilciliklerimiz" data-en="Our Representations" role="menuitem">Temsilciliklerimiz</a>
            <a href="calisma-gruplari.html" data-tr="Ã‡alÄ±ÅŸma GruplarÄ±" data-en="Working Groups" role="menuitem">Ã‡alÄ±ÅŸma GruplarÄ±</a>
          </div>
        </li>

        <li><a href="haberler.html" data-tr="Haberler" data-en="News">Haberler</a></li>
        <li><a href="galeri.html" data-tr="Galeri" data-en="Gallery">Galeri</a></li>
        <li><a href="linkler.html" data-tr="Linkler" data-en="Links">Linkler</a></li>
        <li><a href="iletisim.html" data-tr="Ä°letiÅŸim" data-en="Contact">Ä°letiÅŸim</a></li>
      </ul>
    </div>
  </nav>

  <!-- MAIN -->
  <main id="icerik" class="container">
    <section class="grid grid-cols-2">
      <div class="stack-24">

        <!-- Sayfa baÅŸlÄ±ÄŸÄ±/hero -->
        <section class="hero card" aria-labelledby="hero-title">
          <h2 id="hero-title" data-tr="Dernek TÃ¼zÃ¼ÄŸÃ¼" data-en="Association Regulation">Dernek TÃ¼zÃ¼ÄŸÃ¼</h2>
          <p data-tr="HAVAMETâ€™in kuruluÅŸ amacÄ±, Ã¼yelik ÅŸartlarÄ±, organlarÄ±nÄ±n gÃ¶rev ve yetkileri, genel kurul iÅŸlemleri gibi birÃ§ok konu dernek tÃ¼zÃ¼ÄŸÃ¼nde ayrÄ±ntÄ±lÄ± olarak tanÄ±mlanmÄ±ÅŸtÄ±r."
             data-en="The objectives of HAVAMET, membership conditions, powers and duties of its bodies, and general assembly procedures are detailed in the association's regulation.">
             HAVAMETâ€™in kuruluÅŸ amacÄ±, Ã¼yelik ÅŸartlarÄ±, organlarÄ±nÄ±n gÃ¶rev ve yetkileri, genel kurul iÅŸlemleri gibi birÃ§ok konu dernek tÃ¼zÃ¼ÄŸÃ¼nde ayrÄ±ntÄ±lÄ± olarak tanÄ±mlanmÄ±ÅŸtÄ±r.
          </p>
          <p>
            <a class="btn" href="assets/docs/tuzuk.pdf" target="_blank"
               data-tr="TÃ¼zÃ¼ÄŸÃ¼ PDF olarak gÃ¶rÃ¼ntÃ¼lemek iÃ§in tÄ±klayÄ±n"
               data-en="Click to view the regulation (PDF)">
               TÃ¼zÃ¼ÄŸÃ¼ PDF olarak gÃ¶rÃ¼ntÃ¼lemek iÃ§in tÄ±klayÄ±n
            </a>
          </p>
        </section>

        <!-- (Ä°sterseniz) TÃ¼zÃ¼kten kÄ±sa bir Ã¶zet alanÄ± -->
        <section class="card" aria-labelledby="ozet-title">
          <h3 id="ozet-title" data-tr="KÄ±sa Ã–zet" data-en="Brief Overview">KÄ±sa Ã–zet</h3>
          <ul class="list">
            <li data-tr="AmaÃ§ ve faaliyet alanlarÄ±" data-en="Objectives and fields of activity">AmaÃ§ ve faaliyet alanlarÄ±</li>
            <li data-tr="Ãœyelik ÅŸartlarÄ±" data-en="Membership conditions">Ãœyelik ÅŸartlarÄ±</li>
            <li data-tr="OrganlarÄ±n gÃ¶rev ve yetkileri" data-en="Duties and powers of the bodies">OrganlarÄ±n gÃ¶rev ve yetkileri</li>
            <li data-tr="Genel kurul ve iÅŸleyiÅŸ" data-en="General assembly & procedures">Genel kurul ve iÅŸleyiÅŸ</li>
          </ul>
        </section>

      </div>

      <aside class="stack-24" aria-label="Yan iÃ§erik">
        <section class="hava-durumu-blok card" aria-labelledby="weather-title" aria-live="polite" role="status">
          <h3 id="weather-title" data-tr="Hava Durumu" data-en="Weather">Hava Durumu</h3>
          <div id="konum">Konum alÄ±nÄ±yor...</div>
          <div id="sicaklik" class="big"></div>
          <div id="aciklama"></div>
        </section>

        <section class="takvim card" aria-labelledby="events-title">
          <h3 id="events-title" data-tr="Etkinliklerimiz" data-en="Our Events">Etkinliklerimiz</h3>
          <iframe
            title="Takvim"
            src="https://calendar.google.com/calendar/embed?src=tr.turkish%23holiday%40group.v.calendar.google.com&ctz=Europe%2FIstanbul"
            style="border:0" width="100%" height="220" frameborder="0" scrolling="no"></iframe>
        </section>

        <section class="galeri card" aria-labelledby="gallery-title">
          <h3 id="gallery-title" data-tr="GALERÄ°" data-en="GALLERY">GALERÄ°</h3>
          <div class="galeri-kutu">
            <img src="assets/images/mgm.png" alt="Meteoroloji Genel MÃ¼dÃ¼rlÃ¼ÄŸÃ¼" loading="lazy" />
            <div class="galeri-tarih">Meteoroloji Genel MÃ¼dÃ¼rlÃ¼ÄŸÃ¼</div>
          </div>
          <a href="galeri.html" class="tum-galeriler" data-tr="TÃ¼m Galeriler" data-en="All Galleries">TÃ¼m Galeriler</a>
        </section>
      </aside>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container">
      <p>&copy; 2025 HAVAMET â€” TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>

      <div class="social-footer" aria-label="Sosyal medya baÄŸlantÄ±larÄ±">
        <a href="https://twitter.com/havamet" class="social-btn tw" target="_blank" rel="noopener" aria-label="X (Twitter)">
          <i class="fa-brands fa-x-twitter" aria-hidden="true"></i>
        </a>
        <a href="https://www.instagram.com/havametcad?igsh=ZzA3bzh1ZTNxZzQw" class="social-btn ig" target="_blank" rel="noopener" aria-label="Instagram">
          <i class="fa-brands fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="https://www.facebook.com/profile.php?id=61579499541781" class="social-btn fb" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-brands fa-facebook-f" aria-hidden="true"></i>
        </a>
      </div>
    </div>
  </footer>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    /* ============== Language ============== */
    function setLanguage(lang) {
      const els = document.querySelectorAll('[data-tr], [data-en]');
      els.forEach(el => {
        const text = el.getAttribute(`data-${lang}`);
        if (text) el.textContent = text;
      });
      localStorage.setItem('lang', lang);
    }
    window.setLanguage = setLanguage; // buton onclick iÃ§in

    /* ============== Theme ============== */
    function applyTheme(isDark){
      const body = document.body;
      const btn = document.getElementById('modeButton');
      body.classList.toggle('dark-mode', isDark);
      if (btn) {
        btn.textContent = isDark ? 'ğŸŒ' : 'ğŸŒ™';
        btn.setAttribute('aria-pressed', String(isDark));
      }
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }
    function toggleMode(){ applyTheme(!document.body.classList.contains('dark-mode')); }
    window.toggleMode = toggleMode; // buton onclick iÃ§in

    /* ============== Nav (Responsive) ============== */
    const nav = document.getElementById('nav');
    const hamburger = document.getElementById('hamburger');

    function closeAllDropdowns() {
      document.querySelectorAll('.dropdown.open').forEach(d => {
        d.classList.remove('open');
        const link = d.querySelector('.dropdown-toggle');
        if (link) link.setAttribute('aria-expanded', 'false');
      });
    }

    function setNav(open){
      if (!nav) return;
      nav.classList.toggle('show', open);
      if (hamburger) hamburger.setAttribute('aria-expanded', String(open));
      if (!open) closeAllDropdowns();
    }

    if (hamburger) {
      hamburger.addEventListener('click', (e)=> {
        e.preventDefault();
        setNav(!nav.classList.contains('show'));
      });
    }

    // MenÃ¼ dÄ±ÅŸÄ±na tÄ±klayÄ±nca kapat
    document.addEventListener('click', (e) => {
      if (!nav) return;
      if (!nav.contains(e.target) && nav.classList.contains('show')) setNav(false);
    });

    // Resizeâ€™da (desktopâ€™a geÃ§iÅŸte) sÄ±fÄ±rla
    window.addEventListener('resize', () => {
      if (window.innerWidth >= 1024) {
        setNav(false);
      }
    });

    // Mobilde dropdown aÃ§/kapa
    if (nav) {
      nav.addEventListener('click', function(e){
        const toggle = e.target.closest('.dropdown > .dropdown-toggle');
        if (!toggle) return;

        const isMobileNavOpen = nav.classList.contains('show');
        if (isMobileNavOpen) {
          e.preventDefault();

          const parent = toggle.parentElement;
          const nowOpen = !parent.classList.contains('open');

          // DiÄŸer aÃ§Ä±k dropdownâ€™larÄ± kapat
          document.querySelectorAll('.dropdown.open').forEach(d => {
            if (d !== parent) {
              d.classList.remove('open');
              const l = d.querySelector('.dropdown-toggle');
              if (l) l.setAttribute('aria-expanded', 'false');
            }
          });

          parent.classList.toggle('open', nowOpen);
          toggle.setAttribute('aria-expanded', String(nowOpen));
        }
      });
    }

    // Alt menÃ¼ linkine tÄ±klanÄ±nca (mobilde) menÃ¼yÃ¼ kapat
    document.querySelectorAll('.dropdown-menu a').forEach(a => {
      a.addEventListener('click', () => {
        if (nav && nav.classList.contains('show')) setNav(false);
      });
    });

    /* ============== Weather (with timeout) ============== */
    async function havaDurumuKonumaGore() {
      const API_KEY = "e217a53c2bdc462f5d5ff0d71e5a124e";
      const konumEl = document.getElementById("konum");
      const sicaklikEl = document.getElementById("sicaklik");
      const aciklamaEl = document.getElementById("aciklama");
      const blok = document.querySelector('.hava-durumu-blok');

      if (!navigator.geolocation) {
        if (konumEl) konumEl.textContent = "Konum desteklenmiyor.";
        return;
      }

      if (konumEl) konumEl.textContent = "Konum alÄ±nÄ±yor...";

      navigator.geolocation.getCurrentPosition(async (pos) => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;

        const ctrl = new AbortController();
        const timeout = setTimeout(() => ctrl.abort(), 7000); // 7 sn timeout

        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=tr`;

        try {
          const resp = await fetch(url, { signal: ctrl.signal });
          clearTimeout(timeout);
          if (!resp.ok) throw new Error("AÄŸ hatasÄ±");
          const data = await resp.json();

          const sehir = data.name || "Konum";
          const sicaklik = Math.round(data.main?.temp ?? 0);
          const desc = (data.weather?.[0]?.description || "").toString();
          const main = (data.weather?.[0]?.main || "").toLowerCase();
          const icon = data.weather?.[0]?.icon || "01d";
          const iconUrl = `https://openweathermap.org/img/wn/${icon}@2x.png`;

          if (konumEl) konumEl.textContent = `ğŸ“ ${sehir}`;
          if (sicaklikEl) sicaklikEl.innerHTML = `<img src="${iconUrl}" alt="" width="64" height="64" /> <span>${sicaklik}Â°C</span>`;
          if (aciklamaEl) aciklamaEl.textContent = desc;

          const isNight = icon.includes('n');
          if (blok) {
            blok.classList.remove('hava-durumu-gunduz','hava-durumu-gece','hava-durumu-acik','hava-durumu-bulutlu','hava-durumu-yagmurlu','hava-durumu-karlÄ±');
            blok.classList.add(isNight ? 'hava-durumu-gece' : 'hava-durumu-gunduz');

            if (main.includes('clear')) blok.classList.add('hava-durumu-acik');
            else if (main.includes('cloud')) blok.classList.add('hava-durumu-bulutlu');
            else if (main.includes('rain') || main.includes('drizzle')) blok.classList.add('hava-durumu-yagmurlu');
            else if (main.includes('snow')) blok.classList.add('hava-durumu-karlÄ±');
          }

        } catch (err) {
          if (konumEl) konumEl.textContent = "Hava durumu alÄ±namadÄ±.";
          if (sicaklikEl) sicaklikEl.textContent = "";
          if (aciklamaEl) aciklamaEl.textContent = "";
        }
      }, () => {
        if (konumEl) konumEl.textContent = "Konum alÄ±namadÄ±.";
      }, { timeout: 8000 });
    }

    /* ============== Init ============== */
    // Dil
    const lang = localStorage.getItem('lang') || 'tr';
    setLanguage(lang);

    // Tema (kayÄ±tlÄ± yoksa sistem tercihine saygÄ±)
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    applyTheme(savedTheme ? savedTheme === 'dark' : prefersDark);



    // Hava durumu
    havaDurumuKonumaGore();
  });
  </script>
</body>
</html>

